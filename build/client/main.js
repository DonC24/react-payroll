!function(e){function t(t){for(var n,l,u=t[0],i=t[1],s=t[2],m=0,p=[];m<u.length;m++)l=u[m],r[l]&&p.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,u=1;u<a.length;u++){var i=a[u];0!==r[i]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={0:0},o=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var c=i;o.push([305,1]),a()}({305:function(e,t,a){e.exports=a(610)},608:function(e,t,a){var n={"./af":172,"./af.js":172,"./ar":173,"./ar-dz":174,"./ar-dz.js":174,"./ar-kw":175,"./ar-kw.js":175,"./ar-ly":176,"./ar-ly.js":176,"./ar-ma":177,"./ar-ma.js":177,"./ar-sa":178,"./ar-sa.js":178,"./ar-tn":179,"./ar-tn.js":179,"./ar.js":173,"./az":180,"./az.js":180,"./be":181,"./be.js":181,"./bg":182,"./bg.js":182,"./bm":183,"./bm.js":183,"./bn":184,"./bn.js":184,"./bo":185,"./bo.js":185,"./br":186,"./br.js":186,"./bs":187,"./bs.js":187,"./ca":188,"./ca.js":188,"./cs":189,"./cs.js":189,"./cv":190,"./cv.js":190,"./cy":191,"./cy.js":191,"./da":192,"./da.js":192,"./de":193,"./de-at":194,"./de-at.js":194,"./de-ch":195,"./de-ch.js":195,"./de.js":193,"./dv":196,"./dv.js":196,"./el":197,"./el.js":197,"./en-SG":198,"./en-SG.js":198,"./en-au":199,"./en-au.js":199,"./en-ca":200,"./en-ca.js":200,"./en-gb":201,"./en-gb.js":201,"./en-ie":202,"./en-ie.js":202,"./en-il":203,"./en-il.js":203,"./en-nz":204,"./en-nz.js":204,"./eo":205,"./eo.js":205,"./es":206,"./es-do":207,"./es-do.js":207,"./es-us":208,"./es-us.js":208,"./es.js":206,"./et":209,"./et.js":209,"./eu":210,"./eu.js":210,"./fa":211,"./fa.js":211,"./fi":212,"./fi.js":212,"./fo":213,"./fo.js":213,"./fr":214,"./fr-ca":215,"./fr-ca.js":215,"./fr-ch":216,"./fr-ch.js":216,"./fr.js":214,"./fy":217,"./fy.js":217,"./ga":218,"./ga.js":218,"./gd":219,"./gd.js":219,"./gl":220,"./gl.js":220,"./gom-latn":221,"./gom-latn.js":221,"./gu":222,"./gu.js":222,"./he":223,"./he.js":223,"./hi":224,"./hi.js":224,"./hr":225,"./hr.js":225,"./hu":226,"./hu.js":226,"./hy-am":227,"./hy-am.js":227,"./id":228,"./id.js":228,"./is":229,"./is.js":229,"./it":230,"./it-ch":231,"./it-ch.js":231,"./it.js":230,"./ja":232,"./ja.js":232,"./jv":233,"./jv.js":233,"./ka":234,"./ka.js":234,"./kk":235,"./kk.js":235,"./km":236,"./km.js":236,"./kn":237,"./kn.js":237,"./ko":238,"./ko.js":238,"./ku":239,"./ku.js":239,"./ky":240,"./ky.js":240,"./lb":241,"./lb.js":241,"./lo":242,"./lo.js":242,"./lt":243,"./lt.js":243,"./lv":244,"./lv.js":244,"./me":245,"./me.js":245,"./mi":246,"./mi.js":246,"./mk":247,"./mk.js":247,"./ml":248,"./ml.js":248,"./mn":249,"./mn.js":249,"./mr":250,"./mr.js":250,"./ms":251,"./ms-my":252,"./ms-my.js":252,"./ms.js":251,"./mt":253,"./mt.js":253,"./my":254,"./my.js":254,"./nb":255,"./nb.js":255,"./ne":256,"./ne.js":256,"./nl":257,"./nl-be":258,"./nl-be.js":258,"./nl.js":257,"./nn":259,"./nn.js":259,"./pa-in":260,"./pa-in.js":260,"./pl":261,"./pl.js":261,"./pt":262,"./pt-br":263,"./pt-br.js":263,"./pt.js":262,"./ro":264,"./ro.js":264,"./ru":265,"./ru.js":265,"./sd":266,"./sd.js":266,"./se":267,"./se.js":267,"./si":268,"./si.js":268,"./sk":269,"./sk.js":269,"./sl":270,"./sl.js":270,"./sq":271,"./sq.js":271,"./sr":272,"./sr-cyrl":273,"./sr-cyrl.js":273,"./sr.js":272,"./ss":274,"./ss.js":274,"./sv":275,"./sv.js":275,"./sw":276,"./sw.js":276,"./ta":277,"./ta.js":277,"./te":278,"./te.js":278,"./tet":279,"./tet.js":279,"./tg":280,"./tg.js":280,"./th":281,"./th.js":281,"./tl-ph":282,"./tl-ph.js":282,"./tlh":283,"./tlh.js":283,"./tr":284,"./tr.js":284,"./tzl":285,"./tzl.js":285,"./tzm":286,"./tzm-latn":287,"./tzm-latn.js":287,"./tzm.js":286,"./ug-cn":288,"./ug-cn.js":288,"./uk":289,"./uk.js":289,"./ur":290,"./ur.js":290,"./uz":291,"./uz-latn":292,"./uz-latn.js":292,"./uz.js":291,"./vi":293,"./vi.js":293,"./x-pseudo":294,"./x-pseudo.js":294,"./yo":295,"./yo.js":295,"./zh-cn":296,"./zh-cn.js":296,"./zh-hk":297,"./zh-hk.js":297,"./zh-tw":298,"./zh-tw.js":298};function r(e){var t=o(e);return a(t)}function o(e){if(a.o(n,e))return n[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return Object.keys(n)},r.resolve=o,(e.exports=r).id=608},610:function(e,t,a){"use strict";a.r(t),a(306),a(508),a(764);var n=a(0),r=a.n(n),o=a(299),l=a.n(o),u=a(18),i=a(46),s=a(9),c=a.n(s),m=a(769),p=a.n(m),f=a(614),y=a(300),h=a(612);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=function(e){function t(){var e,a;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=v(t).call(this),j(d(e=!a||"object"!==E(a)&&"function"!=typeof a?d(this):a),"submit",function(t){var a=e.state.formInputs;console.log(a);var n=!0,r="";Object.keys(a).forEach(function(e){""===a[e]&&(n=!1,r="Please fill in all fields")}),a.password!=a.confirmPassword&&(n=!1,r="Passwords do not match"),n?(delete a.confirmPassword,e.signupUser(a)):e.setState({errorMessage:r})}),j(d(e),"updateUsername",function(t){var a=e.state.formInputs;a.username=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateName",function(t){var a=e.state.formInputs;a.name=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateEmail",function(t){var a=e.state.formInputs;a.email=t.target.value,e.setState({formInputs:a})}),j(d(e),"updatePassword",function(t){var a=e.state.formInputs;a.password=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateConfirmPassword",function(t){var a=e.state.formInputs;a.confirmPassword=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateNationality",function(t){var a=e.state.formInputs;a.nationality=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateEthnic",function(t){var a=e.state.formInputs;a.ethnic=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateBirthdate",function(t){var a=e.state.formInputs;a.birthdate=t.target.value,e.setState({formInputs:a})}),j(d(e),"updateAdmin",function(t){var a=e.state.formInputs;a.admin=t.target.value,e.setState({formInputs:a})}),j(d(e),"signupUser",function(t){console.log("in signup User"),console.log(t),fetch("/signup",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t?e.props.history.push("/"):e.setState({errorMessage:"This NRIC/FIN is already in use"})}).catch(function(e){console.error("Error: ",e)})}),e.state={formInputs:{username:"",name:"",email:"",password:"",confirmPassword:"",nationality:"",ethnic:"",birthdate:"",admin:!1},errorMessage:""},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){var e=null;return""!==this.state.errorMessage&&(e=r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage))),r.a.createElement(f.a,{className:p.a.signupForm},r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Username "),r.a.createElement(f.a.Control,{type:"text",placeholder:"NRIC/FIN number",value:this.state.formInputs.username,onChange:this.updateUsername})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Name (as per IC/Passport) "),r.a.createElement(f.a.Control,{type:"text",value:this.state.formInputs.name,onChange:this.updateName})))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Email "),r.a.createElement(f.a.Control,{type:"email",value:this.state.formInputs.email,onChange:this.updateEmail})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Password "),r.a.createElement(f.a.Control,{type:"password",value:this.state.formInputs.password,onChange:this.updatePassword}))),r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Confirm Password "),r.a.createElement(f.a.Control,{type:"password",value:this.state.formInputs.confirmPassword,onChange:this.updateConfirmPassword})))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Nationality "),r.a.createElement(f.a.Control,{as:"select",value:this.state.formInputs.nationality,onChange:this.updateNationality},r.a.createElement("option",{value:""},"-- select one --"),r.a.createElement("option",{value:"singaporean"},"Singaporean"),r.a.createElement("option",{value:"pr"},"Singapore PR"),r.a.createElement("option",{value:"afghan"},"Afghan"),r.a.createElement("option",{value:"albanian"},"Albanian"),r.a.createElement("option",{value:"algerian"},"Algerian"),r.a.createElement("option",{value:"american"},"American"),r.a.createElement("option",{value:"andorran"},"Andorran"),r.a.createElement("option",{value:"angolan"},"Angolan"),r.a.createElement("option",{value:"antiguans"},"Antiguans"),r.a.createElement("option",{value:"argentinean"},"Argentinean"),r.a.createElement("option",{value:"armenian"},"Armenian"),r.a.createElement("option",{value:"australian"},"Australian"),r.a.createElement("option",{value:"austrian"},"Austrian"),r.a.createElement("option",{value:"azerbaijani"},"Azerbaijani"),r.a.createElement("option",{value:"bahamian"},"Bahamian"),r.a.createElement("option",{value:"bahraini"},"Bahraini"),r.a.createElement("option",{value:"bangladeshi"},"Bangladeshi"),r.a.createElement("option",{value:"barbadian"},"Barbadian"),r.a.createElement("option",{value:"barbudans"},"Barbudans"),r.a.createElement("option",{value:"batswana"},"Batswana"),r.a.createElement("option",{value:"belarusian"},"Belarusian"),r.a.createElement("option",{value:"belgian"},"Belgian"),r.a.createElement("option",{value:"belizean"},"Belizean"),r.a.createElement("option",{value:"beninese"},"Beninese"),r.a.createElement("option",{value:"bhutanese"},"Bhutanese"),r.a.createElement("option",{value:"bolivian"},"Bolivian"),r.a.createElement("option",{value:"bosnian"},"Bosnian"),r.a.createElement("option",{value:"brazilian"},"Brazilian"),r.a.createElement("option",{value:"british"},"British"),r.a.createElement("option",{value:"bruneian"},"Bruneian"),r.a.createElement("option",{value:"bulgarian"},"Bulgarian"),r.a.createElement("option",{value:"burkinabe"},"Burkinabe"),r.a.createElement("option",{value:"burmese"},"Burmese"),r.a.createElement("option",{value:"burundian"},"Burundian"),r.a.createElement("option",{value:"cambodian"},"Cambodian"),r.a.createElement("option",{value:"cameroonian"},"Cameroonian"),r.a.createElement("option",{value:"canadian"},"Canadian"),r.a.createElement("option",{value:"cape verdean"},"Cape Verdean"),r.a.createElement("option",{value:"central african"},"Central African"),r.a.createElement("option",{value:"chadian"},"Chadian"),r.a.createElement("option",{value:"chilean"},"Chilean"),r.a.createElement("option",{value:"chinese"},"Chinese"),r.a.createElement("option",{value:"colombian"},"Colombian"),r.a.createElement("option",{value:"comoran"},"Comoran"),r.a.createElement("option",{value:"congolese"},"Congolese"),r.a.createElement("option",{value:"costa rican"},"Costa Rican"),r.a.createElement("option",{value:"croatian"},"Croatian"),r.a.createElement("option",{value:"cuban"},"Cuban"),r.a.createElement("option",{value:"cypriot"},"Cypriot"),r.a.createElement("option",{value:"czech"},"Czech"),r.a.createElement("option",{value:"danish"},"Danish"),r.a.createElement("option",{value:"djibouti"},"Djibouti"),r.a.createElement("option",{value:"dominican"},"Dominican"),r.a.createElement("option",{value:"dutch"},"Dutch"),r.a.createElement("option",{value:"east timorese"},"East Timorese"),r.a.createElement("option",{value:"ecuadorean"},"Ecuadorean"),r.a.createElement("option",{value:"egyptian"},"Egyptian"),r.a.createElement("option",{value:"emirian"},"Emirian"),r.a.createElement("option",{value:"equatorial guinean"},"Equatorial Guinean"),r.a.createElement("option",{value:"eritrean"},"Eritrean"),r.a.createElement("option",{value:"estonian"},"Estonian"),r.a.createElement("option",{value:"ethiopian"},"Ethiopian"),r.a.createElement("option",{value:"fijian"},"Fijian"),r.a.createElement("option",{value:"filipino"},"Filipino"),r.a.createElement("option",{value:"finnish"},"Finnish"),r.a.createElement("option",{value:"french"},"French"),r.a.createElement("option",{value:"gabonese"},"Gabonese"),r.a.createElement("option",{value:"gambian"},"Gambian"),r.a.createElement("option",{value:"georgian"},"Georgian"),r.a.createElement("option",{value:"german"},"German"),r.a.createElement("option",{value:"ghanaian"},"Ghanaian"),r.a.createElement("option",{value:"greek"},"Greek"),r.a.createElement("option",{value:"grenadian"},"Grenadian"),r.a.createElement("option",{value:"guatemalan"},"Guatemalan"),r.a.createElement("option",{value:"guinea-bissauan"},"Guinea-Bissauan"),r.a.createElement("option",{value:"guinean"},"Guinean"),r.a.createElement("option",{value:"guyanese"},"Guyanese"),r.a.createElement("option",{value:"haitian"},"Haitian"),r.a.createElement("option",{value:"herzegovinian"},"Herzegovinian"),r.a.createElement("option",{value:"honduran"},"Honduran"),r.a.createElement("option",{value:"hungarian"},"Hungarian"),r.a.createElement("option",{value:"icelander"},"Icelander"),r.a.createElement("option",{value:"indian"},"Indian"),r.a.createElement("option",{value:"indonesian"},"Indonesian"),r.a.createElement("option",{value:"iranian"},"Iranian"),r.a.createElement("option",{value:"iraqi"},"Iraqi"),r.a.createElement("option",{value:"irish"},"Irish"),r.a.createElement("option",{value:"israeli"},"Israeli"),r.a.createElement("option",{value:"italian"},"Italian"),r.a.createElement("option",{value:"ivorian"},"Ivorian"),r.a.createElement("option",{value:"jamaican"},"Jamaican"),r.a.createElement("option",{value:"japanese"},"Japanese"),r.a.createElement("option",{value:"jordanian"},"Jordanian"),r.a.createElement("option",{value:"kazakhstani"},"Kazakhstani"),r.a.createElement("option",{value:"kenyan"},"Kenyan"),r.a.createElement("option",{value:"kittian and nevisian"},"Kittian and Nevisian"),r.a.createElement("option",{value:"kuwaiti"},"Kuwaiti"),r.a.createElement("option",{value:"kyrgyz"},"Kyrgyz"),r.a.createElement("option",{value:"laotian"},"Laotian"),r.a.createElement("option",{value:"latvian"},"Latvian"),r.a.createElement("option",{value:"lebanese"},"Lebanese"),r.a.createElement("option",{value:"liberian"},"Liberian"),r.a.createElement("option",{value:"libyan"},"Libyan"),r.a.createElement("option",{value:"liechtensteiner"},"Liechtensteiner"),r.a.createElement("option",{value:"lithuanian"},"Lithuanian"),r.a.createElement("option",{value:"luxembourger"},"Luxembourger"),r.a.createElement("option",{value:"macedonian"},"Macedonian"),r.a.createElement("option",{value:"malagasy"},"Malagasy"),r.a.createElement("option",{value:"malawian"},"Malawian"),r.a.createElement("option",{value:"malaysian"},"Malaysian"),r.a.createElement("option",{value:"maldivan"},"Maldivan"),r.a.createElement("option",{value:"malian"},"Malian"),r.a.createElement("option",{value:"maltese"},"Maltese"),r.a.createElement("option",{value:"marshallese"},"Marshallese"),r.a.createElement("option",{value:"mauritanian"},"Mauritanian"),r.a.createElement("option",{value:"mauritian"},"Mauritian"),r.a.createElement("option",{value:"mexican"},"Mexican"),r.a.createElement("option",{value:"micronesian"},"Micronesian"),r.a.createElement("option",{value:"moldovan"},"Moldovan"),r.a.createElement("option",{value:"monacan"},"Monacan"),r.a.createElement("option",{value:"mongolian"},"Mongolian"),r.a.createElement("option",{value:"moroccan"},"Moroccan"),r.a.createElement("option",{value:"mosotho"},"Mosotho"),r.a.createElement("option",{value:"motswana"},"Motswana"),r.a.createElement("option",{value:"mozambican"},"Mozambican"),r.a.createElement("option",{value:"namibian"},"Namibian"),r.a.createElement("option",{value:"nauruan"},"Nauruan"),r.a.createElement("option",{value:"nepalese"},"Nepalese"),r.a.createElement("option",{value:"new zealander"},"New Zealander"),r.a.createElement("option",{value:"ni-vanuatu"},"Ni-Vanuatu"),r.a.createElement("option",{value:"nicaraguan"},"Nicaraguan"),r.a.createElement("option",{value:"nigerien"},"Nigerien"),r.a.createElement("option",{value:"north korean"},"North Korean"),r.a.createElement("option",{value:"northern irish"},"Northern Irish"),r.a.createElement("option",{value:"norwegian"},"Norwegian"),r.a.createElement("option",{value:"omani"},"Omani"),r.a.createElement("option",{value:"pakistani"},"Pakistani"),r.a.createElement("option",{value:"palauan"},"Palauan"),r.a.createElement("option",{value:"panamanian"},"Panamanian"),r.a.createElement("option",{value:"papua new guinean"},"Papua New Guinean"),r.a.createElement("option",{value:"paraguayan"},"Paraguayan"),r.a.createElement("option",{value:"peruvian"},"Peruvian"),r.a.createElement("option",{value:"polish"},"Polish"),r.a.createElement("option",{value:"portuguese"},"Portuguese"),r.a.createElement("option",{value:"qatari"},"Qatari"),r.a.createElement("option",{value:"romanian"},"Romanian"),r.a.createElement("option",{value:"russian"},"Russian"),r.a.createElement("option",{value:"rwandan"},"Rwandan"),r.a.createElement("option",{value:"saint lucian"},"Saint Lucian"),r.a.createElement("option",{value:"salvadoran"},"Salvadoran"),r.a.createElement("option",{value:"samoan"},"Samoan"),r.a.createElement("option",{value:"san marinese"},"San Marinese"),r.a.createElement("option",{value:"sao tomean"},"Sao Tomean"),r.a.createElement("option",{value:"saudi"},"Saudi"),r.a.createElement("option",{value:"scottish"},"Scottish"),r.a.createElement("option",{value:"senegalese"},"Senegalese"),r.a.createElement("option",{value:"serbian"},"Serbian"),r.a.createElement("option",{value:"seychellois"},"Seychellois"),r.a.createElement("option",{value:"sierra leonean"},"Sierra Leonean"),r.a.createElement("option",{value:"slovakian"},"Slovakian"),r.a.createElement("option",{value:"slovenian"},"Slovenian"),r.a.createElement("option",{value:"solomon islander"},"Solomon Islander"),r.a.createElement("option",{value:"somali"},"Somali"),r.a.createElement("option",{value:"south african"},"South African"),r.a.createElement("option",{value:"south korean"},"South Korean"),r.a.createElement("option",{value:"spanish"},"Spanish"),r.a.createElement("option",{value:"sri lankan"},"Sri Lankan"),r.a.createElement("option",{value:"sudanese"},"Sudanese"),r.a.createElement("option",{value:"surinamer"},"Surinamer"),r.a.createElement("option",{value:"swazi"},"Swazi"),r.a.createElement("option",{value:"swedish"},"Swedish"),r.a.createElement("option",{value:"swiss"},"Swiss"),r.a.createElement("option",{value:"syrian"},"Syrian"),r.a.createElement("option",{value:"taiwanese"},"Taiwanese"),r.a.createElement("option",{value:"tajik"},"Tajik"),r.a.createElement("option",{value:"tanzanian"},"Tanzanian"),r.a.createElement("option",{value:"thai"},"Thai"),r.a.createElement("option",{value:"togolese"},"Togolese"),r.a.createElement("option",{value:"tongan"},"Tongan"),r.a.createElement("option",{value:"trinidadian or tobagonian"},"Trinidadian or Tobagonian"),r.a.createElement("option",{value:"tunisian"},"Tunisian"),r.a.createElement("option",{value:"turkish"},"Turkish"),r.a.createElement("option",{value:"tuvaluan"},"Tuvaluan"),r.a.createElement("option",{value:"ugandan"},"Ugandan"),r.a.createElement("option",{value:"ukrainian"},"Ukrainian"),r.a.createElement("option",{value:"uruguayan"},"Uruguayan"),r.a.createElement("option",{value:"uzbekistani"},"Uzbekistani"),r.a.createElement("option",{value:"venezuelan"},"Venezuelan"),r.a.createElement("option",{value:"vietnamese"},"Vietnamese"),r.a.createElement("option",{value:"welsh"},"Welsh"),r.a.createElement("option",{value:"yemenite"},"Yemenite"),r.a.createElement("option",{value:"zambian"},"Zambian"),r.a.createElement("option",{value:"zimbabwean"},"Zimbabwean"))))),r.a.createElement(h.a,null,r.a.createElement(f.a.Group,{as:y.a},r.a.createElement(f.a.Label,null,"Ethnicity "),r.a.createElement(f.a.Control,{as:"select",value:this.state.formInputs.ethnic,onChange:this.updateEthnic},r.a.createElement("option",null,"Choose..."),r.a.createElement("option",{value:"na"},"Not Singaporean or PR"),r.a.createElement("option",{value:"chinese"},"Chinese"),r.a.createElement("option",{value:"indian"},"Indian"),r.a.createElement("option",{value:"malay"},"Malay"),r.a.createElement("option",{value:"other"},"Other")))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Birthday "),r.a.createElement(f.a.Control,{type:"date",value:this.state.formInputs.birthdate,onChange:this.updateBirthdate})))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Control,{type:"hidden",value:this.state.formInputs.admin,onChange:this.updateAdmin})))),r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(y.a,{xs:8,lg:6},r.a.createElement("p",null,"Existing user? ",r.a.createElement(u.b,{to:"/login/"},"Log in now!"))),r.a.createElement(y.a,{xs:4,lg:6},r.a.createElement("button",{type:"submit",onClick:this.submit,className:p.a.btn},"Sign Up")),e))}}])&&b(a.prototype,n),t}();w.propTypes={history:c.a.object};var S=w;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,C(t).apply(this,arguments))}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(y.a,{lg:4},r.a.createElement("h2",null,"Sign Up")),r.a.createElement(y.a,{lg:{span:6,offset:1}},r.a.createElement(S,{history:this.props.history})))}}])&&I(a.prototype,n),t}();_.propTypes={history:c.a.object};var k=_;function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=function(e){function t(e){var a,n;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,n=T(t).call(this,e),G(N(a=!n||"object"!==M(n)&&"function"!=typeof n?N(this):n),"updateUsername",function(e){var t=a.state.formInputs;t.username=e.target.value,a.setState({formInputs:t})}),G(N(a),"updatePassword",function(e){var t=a.state.formInputs;t.password=e.target.value,a.setState({formInputs:t})}),G(N(a),"submit",function(e){e.preventDefault();var t=a.state.formInputs,n=!0;Object.keys(t).forEach(function(e){""===t[e]&&(n=!1)}),n?a.loginUser(t):a.setState({errorMessage:"Please fill in username and password"})}),G(N(a),"loginUser",function(e){fetch("/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return window.location.reload(!0),e.json()}).then(function(e){e?a.props.history.push("/"):a.setState({errorMessage:"Incorrect username/password"})}).catch(function(e){return console.error("Error:",e)})}),a.state={formInputs:{username:"",password:""},errorMessage:""},a}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){console.log("login form");var e=null;return""!==this.state.errorMessage&&(e=r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage))),r.a.createElement(f.a,{className:p.a.loginForm},r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Username"),r.a.createElement(f.a.Control,{type:"text",value:this.state.formInputs.username,onChange:this.updateUsername})))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Password"),r.a.createElement(f.a.Control,{type:"password",value:this.state.formInputs.password,onChange:this.updatePassword})))),r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(y.a,{xs:8,lg:6},r.a.createElement("p",null,"Don't have an account?  ",r.a.createElement(u.b,{to:"/signup/"},"Create one now!"))),r.a.createElement(y.a,{xs:4,lg:6},r.a.createElement("button",{type:"submit",onClick:this.submit,className:p.a.btn},"Login")),e))}}])&&x(a.prototype,n),t}();B.propTypes={history:c.a.object};var F=B;function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,R(t).apply(this,arguments))}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(y.a,{lg:4},r.a.createElement("h2",null,"Login")),r.a.createElement(y.a,{lg:{span:6,offset:1}},r.a.createElement(F,{history:this.props.history})))}}])&&A(a.prototype,n),t}();L.propTypes={history:c.a.object};var H=L;function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=a(2),Z=function(e){function t(){var e,a,n,r,o;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=K(t).call(this),e=!a||"object"!==J(a)&&"function"!=typeof a?Y(this):a,o=function(){console.log("getting all employees");var t=parseInt(e.props.companyId);fetch("/get_all_users/"+t).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({employees:t})}).catch(function(e){return console.error("Error:",e)})},(r="getAllUsers")in(n=Y(e))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e.state={errorMessage:"",employees:null},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r.a.Component),a=t,(n=[{key:"mapfunc",value:function(e){return e.map(function(e){var t=V(e.birthdate).utc().format("DD MMM YYYY");return r.a.createElement("tr",null,r.a.createElement("td",null,"".concat(e.id)),r.a.createElement("td",null,"".concat(e.username)),r.a.createElement("td",null,"".concat(e.name)),r.a.createElement("td",null,"".concat(e.email)),r.a.createElement("td",null,"".concat(e.nationality)),r.a.createElement("td",null,"".concat(e.ethnic)),r.a.createElement("td",null,"".concat(t)),r.a.createElement("td",null,"".concat(e.admin)),r.a.createElement("td",null,r.a.createElement("a",{href:"#"},"View employee details")),r.a.createElement("td",null,r.a.createElement("a",{href:"#"},"Edit employee details")),r.a.createElement("td",null,r.a.createElement("a",{href:"#"},"Delete employee")))})}},{key:"componentDidMount",value:function(){console.log("employees componentDidMount"),console.log(this.props.companyId),this.props.companyId&&this.getAllUsers()}},{key:"render",value:function(){console.log("in employees"),""!==this.state.errorMessage&&r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage));var e="";if(this.state.employees){var t=this.state.employees;e=this.mapfunc(t)}return r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement("h2",null,"Employees"),r.a.createElement(u.b,{to:"/contracts"},"Create new contract "),r.a.createElement(u.b,{to:"/payroll"},"Create new payroll"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"NRIC/FIN"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Nationality"),r.a.createElement("th",{scope:"col"},"Ethnicity"),r.a.createElement("th",{scope:"col"},"Birthdate"),r.a.createElement("th",{scope:"col"},"Admin"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,e))))}}])&&q(a.prototype,n),t}();Z.propTypes={history:c.a.object};var Q=Z;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(){var e,a,n,r,o;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=ee(t).call(this),e=!a||"object"!==X(a)&&"function"!=typeof a?te(this):a,o=function(){console.log("getting currentuser"),te(e),fetch("/get_user_info").then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({currentuser:t})}).catch(function(e){return console.error("Error:",e)})},(r="getCurrentUser")in(n=te(e))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e.state={errorMessage:"",currentuser:null,employees:[]},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){console.log("component did mount"),this.getCurrentUser()}},{key:"render",value:function(){console.log("in dashboard"),""!==this.state.errorMessage&&r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage));var e="";if(this.state.currentuser&&!0===this.state.currentuser.admin){console.log(this.state.currentuser.company_id);var t=parseInt(this.state.currentuser.company_id);e=r.a.createElement(Q,{companyId:t})}return r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement("h2",null,"Dashboard"),e))}}])&&$(a.prototype,n),t}();ne.propTypes={history:c.a.object};var re=ne;function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var me=function(e){function t(){var e,a;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=ue(t).call(this),ce(ie(e=!a||"object"!==oe(a)&&"function"!=typeof a?ie(this):a),"submit",function(t){var a=e.state.formInputs;console.log(a);var n=!0,r="";Object.keys(a).forEach(function(e){""!==a[e]&&null!==a[e]||(n=!1,r="Please fill in all fields")}),n?e.createContract(a):e.setState({errorMessage:r})}),ce(ie(e),"updateBasicSalary",function(t){var a=e.state.formInputs;a.basicsalary=t.target.value,e.setState({formInputs:a})}),ce(ie(e),"updateBasicHours",function(t){var a=e.state.formInputs;a.basichours=t.target.value,e.setState({formInputs:a})}),ce(ie(e),"updateDaysPerWk",function(t){var a=e.state.formInputs;a.daysperwk=t.target.value,e.setState({formInputs:a})}),ce(ie(e),"updateEmployee",function(t){var a=e.state.formInputs;a.employee=t.target.value,e.setState({formInputs:a})}),ce(ie(e),"getEmployees",function(){console.log("getting currentuser");var e=document.getElementById("selectcols");e.length=0;var t=document.createElement("option");t.text="Select Employee",e.add(t),e.selectedIndex=0,fetch("/get_user_info").then(function(e){return e.json()}).then(function(e){console.log(e);var t=parseInt(e.company_id);return fetch("/get_all_users/"+t)}).then(function(t){200===t.status?t.json().then(function(t){var a;console.log(t);for(var n=0;n<t.length;n++)(a=document.createElement("option")).text=t[n].name+" "+t[n].username,a.value=t[n].id,e.add(a)}):console.warn("Looks like there was a problem. Status Code: "+t.status)}).catch(function(e){return console.error("Error:",e)})}),ce(ie(e),"createContract",function(t){console.log("in create contract");var a=12*parseInt(e.state.formInputs.basicsalary)/(52*parseFloat(e.state.formInputs.daysperwk)*parseFloat(e.state.formInputs.basichours));t.hourlyrate=a,console.log(t),fetch("/contract",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t?e.props.history.push("/"):e.setState({errorMessage:"There was an error"})}).catch(function(e){console.error("Error: ",e)})}),e.state={formInputs:{employee:null,basicsalary:null,basichours:null,daysperwk:null},errorMessage:""},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.getEmployees()}},{key:"render",value:function(){var e=null;""!==this.state.errorMessage&&(e=r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage)));var t=12*parseInt(this.state.formInputs.basicsalary)/(52*parseFloat(this.state.formInputs.daysperwk)*parseFloat(this.state.formInputs.basichours));return console.log("hrly Rate: "+t),r.a.createElement(f.a,{className:p.a.signupForm},r.a.createElement(h.a,null,r.a.createElement(f.a.Group,{as:y.a},r.a.createElement(f.a.Label,null,"Employee "),r.a.createElement(f.a.Control,{as:"select",id:"selectcols",value:this.state.formInputs.employee,onChange:this.updateEmployee}))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Basic Salary "),r.a.createElement(f.a.Control,{type:"number",min:"0",value:this.state.formInputs.basicsalary,onChange:this.updateBasicSalary})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Basic Hours "),r.a.createElement(f.a.Control,{type:"number",step:"0.1",min:"0",value:this.state.formInputs.basichours,onChange:this.updateBasicHours})))),r.a.createElement(h.a,null,r.a.createElement(f.a.Group,{as:y.a},r.a.createElement(f.a.Label,null,"Working Days per Week "),r.a.createElement(f.a.Control,{as:"select",value:this.state.formInputs.daysperwk,onChange:this.updateDaysPerWk},r.a.createElement("option",null,"Choose..."),r.a.createElement("option",{value:"5"},"5 Days"),r.a.createElement("option",{value:"5.5"},"5.5 Days"),r.a.createElement("option",{value:"6"},"6 Days")))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Hourly Rate "),r.a.createElement(f.a.Control,{type:"number",value:t,onChange:this.updateHourlyRate,readOnly:!0})))),r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(y.a,{xs:4,lg:6},r.a.createElement("button",{type:"submit",onClick:this.submit,className:p.a.btn},"Create Contract")),e))}}])&&le(a.prototype,n),t}();me.propTypes={history:c.a.object};var pe=me;function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,he(t).apply(this,arguments))}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(y.a,{lg:4},r.a.createElement("h2",null,"Contract")),r.a.createElement(y.a,{lg:{span:6,offset:1}},r.a.createElement(pe,{history:this.props.history})))}}])&&ye(a.prototype,n),t}();be.propTypes={history:c.a.object};var ve=be;function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ie=function(e){function t(){var e,a;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=je(t).call(this),Oe(we(e=!a||"object"!==de(a)&&"function"!=typeof a?we(this):a),"_isMounted",!1),Oe(we(e),"submit",function(t){var a=e.state.formInputs;console.log(a);var n=!0,r="";Object.keys(a).forEach(function(e){""!==a[e]&&null!==a[e]||(n=!1,r="Please fill in all fields")}),n?e.createPayroll(a):e.setState({errorMessage:r})}),Oe(we(e),"updateBasicSalary",function(){var t=parseInt(e.state.contract.basicsalary);document.getElementById("basicsal").setAttribute("value",t)}),Oe(we(e),"updateAllowance",function(t){var a=e.state.formInputs;a.allowance=t.target.value,e.setState({formInputs:a},e.calcGross)}),Oe(we(e),"updateMonth",function(t){var a=e.state.formInputs;a.month=t.target.value,e.setState({formInputs:a})}),Oe(we(e),"updateHourlyRate",function(t){console.log("hourly rate on change"),console.log(t);var a=e.state.formInputs;a.hourlyrate=t.target.value,e.setState({formInputs:a})}),Oe(we(e),"ethnicFund",function(){var t=e.state.empinfo.ethnic,a=e.state.formInputs.grosssalary,n=e.state.formInputs;switch(t){case"Chinese":n.ethnicamt=a<=5e3?(n.ethnicfund="CDCA",1.5):(n.ethnicfund="CDCA",3),e.setState({formInputs:n},e.calcCPF);break;case"Indian":n.ethnicamt=a<=2500?(n.ethnicfund="SINDA",5):(n.ethnicfund="SINDA",7),e.setState({formInputs:n},e.calcCPF);break;case"Malay":n.ethnicamt=a<=6e3?(n.ethnicfund="MBMF",19.5):(n.ethnicfund="MBMF",24),e.setState({formInputs:n},e.calcCPF);break;case"Other":n.ethnicamt=a<=4e3?(n.ethnicfund="ECF",9):(n.ethnicfund="ECF",12),e.setState({formInputs:n},e.calcCPF);break;default:n.ethnicfund="NA",n.ethnicamt=0,e.setState({formInputs:n},e.calcCPF)}}),Oe(we(e),"calculateAge",function(){var t=e.state.empinfo.birthdate;t=Date.parse(t);var a=new Date,n=new Date(a-t);return Math.abs(n.getUTCFullYear()-1970)}),Oe(we(e),"calcCPF",function(){var t=e.calculateAge();console.log("age: "+t);var a=parseFloat(e.state.formInputs.grosssalary),n=e.state.empinfo.nationality,r=e.state.formInputs;if("Singaporean"===n||"Singaporean PR"==n){if(t<=55){var o=Math.round(.17*a),l=Math.round(.2*a);r.companyrate=.17,r.companycpf=o,r.employeerate=.2,r.employeecpf=l,e.setState({formInputs:r},e.calcTotals)}else if(55<t&&t<=60){var u=Math.round(.13*a),i=Math.round(.13*a);r.companyrate=.13,r.companycpf=u,r.employeerate=.13,r.employeecpf=i,e.setState({formInputs:r},e.calcTotals)}else if(60<t&&t<=65){var s=Math.round(.09*a),c=Math.round(.075*a);r.companyrate=.09,r.companycpf=s,r.employeerate=.075,r.employeecpf=c,e.setState({formInputs:r},e.calcTotals)}else if(65<t){var m=Math.round(.075*a),p=Math.round(.05*a);r.companyrate=.075,r.companycpf=m,r.employeerate=.05,r.employeecpf=p,e.setState({formInputs:r},e.calcTotals)}}else r.companyrate=0,r.companycpf=0,r.employeerate=0,r.employeecpf=0,e.setState({formInputs:r},e.calcTotals)}),Oe(we(e),"calcGross",function(){console.log("calculating gross");var t=parseInt(e.state.contract.basicsalary);console.log(t);var a=t+parseFloat(e.state.formInputs.allowance),n=e.state.formInputs;n.grosssalary=a,e.setState({formInputs:n},e.ethnicFund)}),Oe(we(e),"getContract",function(t){console.log("in get contract "+t),we(e),fetch("/contracts/"+t).then(function(e){return e.json()}).then(function(a){return e.setState({contract:a}),fetch("/user/"+t)}).then(function(e){return e.json()}).then(function(t){console.log("getting user info"),console.log(t),e.setState({empinfo:t},e.updateBasicSalary)}).catch(function(e){return console.error("Error:",e)})}),Oe(we(e),"updateEmployee",function(t){var a=e.state.formInputs;a.employee=t.target.value;var n=t.target.value;e.setState({formInputs:a},e.getContract(n))}),Oe(we(e),"calcTotals",function(){var t=e.state.formInputs,a=e.state.formInputs.companycpf,n=e.state.formInputs.employeecpf,r=e.state.formInputs.ethnicamt,o=e.state.formInputs.grosssalary,l=a+n,u=l+r;t.totalcpf=l,t.totalded=u,t.netsalary=o-u,e.setState({formInputs:t})}),Oe(we(e),"handleAMonthChange",function(t){var a=e.state.formInputs;a.month=t.target.value,console.log(t.target.value),e.setState({formInputs:a})}),Oe(we(e),"getEmployees",function(){console.log("getting currentuser");var e=document.getElementById("usercols");e.length=0;var t=document.createElement("option");t.text="Select Employee",e.add(t),e.selectedIndex=0,fetch("/get_user_info").then(function(e){return e.json()}).then(function(e){console.log(e);var t=parseInt(e.company_id);return fetch("/get_all_users/"+t)}).then(function(t){200===t.status?t.json().then(function(t){var a;console.log(t);for(var n=0;n<t.length;n++)(a=document.createElement("option")).text=t[n].name+" "+t[n].username,a.value=t[n].id,e.add(a)}):console.warn("Looks like there was a problem. Status Code: "+t.status)}).catch(function(e){return console.error("Error:",e)})}),Oe(we(e),"setMaxDate",function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;t<10&&(t="0"+t),a<10&&(a="0"+a),e=e.getFullYear()+"-"+a+"-"+t,document.getElementById("datefield").setAttribute("max",e)}),Oe(we(e),"createPayroll",function(t){console.log("in create payroll"),console.log(t),fetch("/payroll",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t?e.props.history.push("/"):e.setState({errorMessage:"There was an error"})}).catch(function(e){console.error("Error: ",e)})}),e.state={formInputs:{employee:null,allowance:null,grosssalary:null,ethnicfund:"",ethnicamt:null,companyrate:null,companycpf:null,employeerate:null,employeecpf:null,month:null,totalcpf:null,totalded:null,netsalary:null},errorMessage:"",empinfo:null,contract:null},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){if(this._isMounted=!0,this._isMounted){this.getEmployees(),this.setMaxDate();var e=this.state.formInputs;e.date=new Date,this.setState({formInputs:e})}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){console.log("in payroll form");var e=null;return""!==this.state.errorMessage&&(e=r.a.createElement(y.a,{xs:12,className:p.a.formError},r.a.createElement("p",null,this.state.errorMessage))),r.a.createElement(f.a,{className:p.a.signupForm},r.a.createElement(h.a,null,r.a.createElement(f.a.Group,{as:y.a},r.a.createElement(f.a.Label,null,"Employee "),r.a.createElement(f.a.Control,{as:"select",id:"usercols",value:this.state.formInputs.employee,onChange:this.updateEmployee}))),r.a.createElement(h.a,null,r.a.createElement(f.a.Group,{as:y.a},r.a.createElement(f.a.Label,null,"Month of Payroll "),r.a.createElement(f.a.Control,{type:"date",id:"datefield",value:this.state.formInputs.month,onChange:this.updateMonth,max:"2018-12-30"}))),r.a.createElement(h.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Basic Salary "),r.a.createElement(f.a.Control,{type:"number",min:"0",id:"basicsal",readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Allowance "),r.a.createElement(f.a.Control,{type:"number",placeholder:"500",step:"0.1",min:"0",value:this.state.formInputs.allowance,onChange:this.updateAllowance})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Gross Salary "),r.a.createElement(f.a.Control,{type:"number",step:"0.1",min:"0",value:this.state.formInputs.grosssalary,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Ethnic Fund "),r.a.createElement(f.a.Control,{type:"text",value:this.state.formInputs.ethnicfund,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Ethnic Fund Amount "),r.a.createElement(f.a.Control,{type:"number",step:"0.1",min:"0",value:this.state.formInputs.ethnicamt,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement("h4",null,"CPF Contributions"),r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Employer Rate (%) "),r.a.createElement(f.a.Control,{type:"number",step:"0.1",min:"0",value:this.state.formInputs.companyrate,readOnly:!0}))),r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Employer CPF Contributions"),r.a.createElement(f.a.Control,{type:"number",value:this.state.formInputs.companycpf,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Employee Rate (%) "),r.a.createElement(f.a.Control,{type:"number",value:this.state.formInputs.employeerate,readOnly:!0}))),r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Employee CPF Contributions"),r.a.createElement(f.a.Control,{type:"number",step:"0.1",min:"0",value:this.state.formInputs.employeecpf,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Total CPF Contributions "),r.a.createElement(f.a.Control,{type:"number",value:this.state.formInputs.totalcpf,readOnly:!0})))),r.a.createElement("hr",null),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Total Deductions "),r.a.createElement(f.a.Control,{type:"number",value:this.state.formInputs.totalded,readOnly:!0})))),r.a.createElement(h.a,null,r.a.createElement(y.a,{xs:12,md:6},r.a.createElement(f.a.Group,null,r.a.createElement("label",null,"Net Salary "),r.a.createElement(f.a.Control,{type:"number",value:this.state.formInputs.netsalary,readOnly:!0})))),r.a.createElement(h.a,{className:"mt-5"},r.a.createElement(y.a,{xs:4,lg:6},r.a.createElement("button",{type:"submit",onClick:this.submit,className:p.a.btn},"Create Payroll")),e))}}])&&ge(a.prototype,n),t}();Ie.propTypes={history:c.a.object};var Ce=Ie;function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,ke(t).apply(this,arguments))}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,r.a.Component),a=t,(n=[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(y.a,{lg:4},r.a.createElement("h2",null,"Payroll")),r.a.createElement(y.a,{lg:{span:6,offset:1}},r.a.createElement(Ce,{history:this.props.history})))}}])&&_e(a.prototype,n),t}();xe.propTypes={history:c.a.object};var Te=xe,Ne=a(304),ze=a(613);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){function t(){var e,a,n,r,o;return function(e,a){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,a=Fe(t).call(this),e=!a||"object"!==Ge(a)&&"function"!=typeof a?De(this):a,o=function(){var t={};document.cookie.split("; ").forEach(function(e){var a=e.split("=");t[a[0]]=a[1]}),t.session===Object(Ne.sha256)(t.user_id+"logged_inThis is a payroll")?e.setState({authed:!0,userId:parseInt(t.user_id),username:t.user_name}):e.setState({authed:!1})},(r="checkUser")in(n=De(e))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e.state={authed:!1,userId:null,username:null,currentuser:null},e}var a,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){console.log("APP mounted"),this.checkUser()}},{key:"render",value:function(){var e=this;return console.log("state",this.state.authed),r.a.createElement(u.a,null,r.a.createElement("nav",null,r.a.createElement("h1",null,"React Router"),r.a.createElement(u.b,{to:"/signup"},"Sign Up "),r.a.createElement(u.b,{to:"/login"},"Login "),r.a.createElement(u.b,{to:"/"},"Home ")),r.a.createElement(ze.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(t){return e.state.authed?r.a.createElement(re,t):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/signup",render:function(t){return e.state.authed?r.a.createElement(i.a,{to:"/"}):r.a.createElement(k,t)}}),r.a.createElement(i.b,{path:"/login",render:function(t){return e.state.authed?r.a.createElement(i.a,{to:"/"}):r.a.createElement(H,t)}}),r.a.createElement(i.b,{path:"/contracts",render:function(t){return e.state.authed?r.a.createElement(ve,t):r.a.createElement(i.a,{to:"/"})}}),r.a.createElement(i.b,{path:"/payroll",render:function(t){return e.state.authed?r.a.createElement(Te,t):r.a.createElement(i.a,{to:"/"})}}))))}}])&&Be(a.prototype,n),t}();l.a.render(r.a.createElement(Re,null),document.getElementById("app"))},769:function(e,t){}});